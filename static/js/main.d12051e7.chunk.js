(this["webpackJsonpstrategy-game"]=this["webpackJsonpstrategy-game"]||[]).push([[0],{17:function(e,t,s){},22:function(e,t,s){"use strict";s.r(t);var n=s(3),i=s.n(n),c=s(7),a=s.n(c),l=s(4),r=(s(17),s(1)),o=function(e){var t=e.onGetName,s=Object(n.useState)(""),i=Object(l.a)(s,2),c=i[0],a=i[1];return Object(r.jsx)("div",{className:"containerModal askUserBox",children:Object(r.jsxs)("form",{className:"d-flex flex-wrap justify-content-center",onSubmit:function(e){e.preventDefault(),t({playersName:c}),a("")},children:[Object(r.jsx)("label",{className:"p-4",htmlFor:"userName",children:"Good day, dear player! I would like to know how should I call you"}),Object(r.jsx)("input",{type:"text",className:"w-100 mx-4",id:"userName",name:"userName",maxLength:"15",placeholder:"Your name",value:c,onChange:function(e){return a(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",className:"m-4 btn btn-dark btn-sm ",value:"OK!"})]})})},d=s(8),b=function(e){var t=e.playersName,s=e.onGotIt,i=["In this strategy game You will be able to show your strategy skills! Build or destroy buildings, train villagers to become warriors to defend your Village. \nTo win the game You need to collect 1,000,000 gold, or to train 10,000 warriors. \nEvery Hut and House will provide you some gold as well as every won battle. \nBe aware of the enemies and be prepared for every siege.","Hope You will enjoy and win the game! \nSo, good luck to You ".concat(t,"! \n P.S. Please do not hesitate to write me if any errors occured during the game, or if You have any suggestions to improve the game. You can write me gvidaspilelis@gmail.com or find me on: "),'Special Thank You goes to: "React Icons" for the icons from the "game icons" project, license CC BY 3.0, for the icons from the "atisawd/boxicons"    project, license CC BY 4.0 License, for the icons from the "fontawesome" project license CC BY 4.0 License, "Weateher Icons" for the icons, license SIL OFL 1.1.'],c=Object(n.useState)(i[0]),a=Object(l.a)(c,2),o=a[0],b=a[1],u=Object(n.useState)(0),j=Object(l.a)(u,2),m=j[0],g=j[1],x=Object(n.useState)(!1),p=Object(l.a)(x,2),h=p[0],O=p[1],f=Object(n.useState)(!0),v=Object(l.a)(f,2),y=v[0],w=v[1];function N(e){m<=0&&e<0?O(!1):m>=i.length-1&&e>0?w(!1):(O(m+e!==0),w(m+e!==2),g(m+e),b(i[m+e]))}function k(e){return e.text.split("\n").map((function(e){return Object(r.jsx)("p",{children:e},Math.random())}))}return Object(r.jsxs)("div",{className:"containerModal tutorialModal",children:[Object(r.jsx)("div",{className:"introImage",children:Object(r.jsx)("img",{src:"https://github.com/GvidasGVD/strategy-survival-game/blob/gh-pages/images/introPersonImg.PNG",alt:"Ancient person drawing"})}),Object(r.jsxs)("div",{className:"introTextBox d-flex justify-content-end align-content-between flex-wrap p-4",children:[Object(r.jsxs)("div",{className:"d-flex flex-wrap w-100 text-align-center ",children:[Object(r.jsxs)("h3",{className:"pl-5 w-100",children:["Hello ",t,","]}),Object(r.jsxs)("div",{className:"mt-4 introTextField",children:[Object(r.jsx)(k,{text:o}),1===m?Object(r.jsxs)("div",{children:[Object(r.jsx)("a",{href:"https://www.linkedin.com/feed/",target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)(d.a,{size:"3.2em",color:"blue",className:"linkedin-link"})}),Object(r.jsx)("p",{className:"mt-3 white-text",children:"You can find my other works here: "}),Object(r.jsx)("div",{className:"GP-link-box",children:Object(r.jsx)("a",{href:"https://gvidasgvd.github.io/portfolioPage.github.io/",target:"_blank",rel:"noopener noreferrer",className:"GP-link",children:"GP"})})]}):null,2===m?Object(r.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(r.jsx)("p",{className:"mt-3 white-text w-100",children:"Links: "}),Object(r.jsx)("br",{}),Object(r.jsx)("a",{className:"icons-links",href:"https://react-icons.github.io/react-icons/",target:"_blank",rel:"noopener noreferrer",children:"https://react-icons.github.io/react-icons/"}),Object(r.jsx)("a",{className:"icons-links",href:"https://game-icons.net/",target:"_blank",rel:"noopener noreferrer",children:"https://game-icons.net/"}),Object(r.jsx)("a",{className:"icons-links",href:"https://github.com/atisawd/boxicons",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/atisawd/boxicons"}),Object(r.jsx)("a",{className:"icons-links",href:"https://fontawesome.com/",target:"_blank",rel:"noopener noreferrer",children:"https://fontawesome.com/"}),Object(r.jsx)("a",{className:"icons-links",href:"https://erikflowers.github.io/weather-icons/",target:"_blank",rel:"noopener noreferrer",children:"https://erikflowers.github.io/weather-icons/"})]}):null]})]}),Object(r.jsxs)("div",{className:"m-5",children:[Object(r.jsx)("button",{className:"introBtnPrevious btn btn-dark btn-sm mr-1",onClick:function(){return N(-1)},disabled:!h,children:"Previous"}),Object(r.jsx)("button",{className:"introBtnNext btn btn-dark btn-sm mx-1",onClick:function(){return N(1)},disabled:!y,children:"Next"}),Object(r.jsxs)("button",{className:"btn btn-dark btn-sm ml-1 mt-0",onClick:s,children:[" ","Got it!"," "]})]})]})]})};b.defaultProps={playersName:"Nice Player"};var u=b,j=s(6),m=s(9),g=s(2),x=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{place:"bottom",delayUpdate:1e3}),Object(r.jsxs)("div",{className:"navBar",children:[Object(r.jsxs)("div",{className:"nav-bar-people-block",children:[Object(r.jsxs)("span",{className:"nav-bar-people","data-delay-show":"400","data-tip":"Villagers",children:[Object(r.jsx)(g.s,{size:"1.2em"})," ",e.assets[0].villagers]}),Object(r.jsxs)("span",{className:"nav-bar-people","data-delay-show":"400","data-tip":"Knights",children:[Object(r.jsx)(g.w,{size:"1.2em"}),e.assets[0].knights]}),Object(r.jsxs)("span",{className:"nav-bar-people","data-delay-show":"400","data-tip":"Archers",children:[Object(r.jsx)(g.c,{size:"1.2em"}),e.assets[0].archers]})]}),Object(r.jsxs)("div",{className:"nav-bar-time",children:[" ",Object(r.jsx)("input",{type:"radio",className:"btn-check",name:"options",id:"option1",autoComplete:"off",defaultChecked:!0}),Object(r.jsx)("label",{className:"btn btn-secondary mx-3",htmlFor:"option1","data-delay-show":"400","data-tip":"Set to default time speed",onClick:e.onSetDefaultTimeSpeed,children:"x 1"}),Object(r.jsxs)("div",{className:"nav-bar-time-days w-100",children:[Object(r.jsx)("span",{className:"w-50 pl-1 nav-bar-time-days-label",children:"Days"}),Object(r.jsx)("span",{className:"w-50 nav-bar-time-days-number pr-1",children:e.days})]}),Object(r.jsx)("input",{type:"radio",className:"btn-check",name:"options",id:"option2",autoComplete:"off"}),Object(r.jsx)("label",{className:"btn btn-secondary mx-3",htmlFor:"option2","data-delay-show":"400","data-tip":"Set double time speed",onClick:e.onSetDoubleTimeSpeed,children:"x 2"})]}),Object(r.jsxs)("div",{className:"nav-bar-resources-block",children:[Object(r.jsxs)("span",{className:"nav-bar-resources","data-delay-show":"400","data-tip":"Lumber",children:[Object(r.jsx)(g.D,{size:"1.5em",color:"rgb(236 171 51)"}),e.assets[0].lumber]}),Object(r.jsxs)("span",{className:"nav-bar-resources","data-delay-show":"400","data-tip":"Stone",children:[Object(r.jsx)(g.v,{size:"1.5em",color:"grey"}),e.assets[0].stone]}),Object(r.jsxs)("span",{className:"nav-bar-resources","data-delay-show":"400","data-tip":"Iron",children:[Object(r.jsx)(g.o,{size:"1.2em"}),e.assets[0].iron]}),Object(r.jsxs)("span",{className:"nav-bar-resources","data-delay-show":"400","data-tip":"Gold",children:[Object(r.jsx)(g.z,{size:"1.2em",color:"yellow"}),e.assets[0].gold]})]})]})]})},p=s(11),h=function(e){var t="2.5em",s=[{text:"Please be aware that any time enemies can attack You! Train Your village people to become strong Knights and Archers. You can check for any nearby enemies by clicking: ",image:Object(r.jsx)(g.g,{size:t,color:"grey"})},{text:"If You are curious of your achievements, You can check Your current game status by clicking: ",image:Object(r.jsx)(d.b,{size:t,color:"grey"})},{text:"If Enemy is stronger than You more than twice, You will be defeated! So make sure that your defense strength is not less then the half of the Enemy's attack strength",image:Object(r.jsx)(g.d,{size:t,color:"grey"})},{text:"Your villagers can defend the Village too! Each villager has the defense strength of 1",image:Object(r.jsx)(g.s,{size:t,color:"grey"})},{text:"Archers are 3 times stronger than knights and more often survive the battles",image:Object(r.jsx)(g.c,{size:t,color:"grey"})},{text:"You can control the game speed by choosing the tempo of the game in the upper navigation bar",image:Object(r.jsx)(g.t,{size:t,color:"grey"})},{text:"The game success depends only on You! Believe in Yourself and never give up!",image:Object(r.jsx)(p.a,{size:"3em",color:"grey"})}],i=Object(n.useState)((function(){return 0})),c=Object(l.a)(i,2),a=c[0],o=c[1],b=Object(n.useState)(s[0].text),u=Object(l.a)(b,2),j=u[0],m=u[1],x=Object(n.useState)(s[0].image),h=Object(l.a)(x,2),O=h[0],f=h[1];function v(e){return a<=0&&e<0?(m(s[s.length-1].text),f(s[s.length-1].image),void o(s.length-1)):a>=s.length-1&&e>0?(m(s[0].text),f(s[0].image),void o(0)):(o(a+e),m(s[a+e].text),void f(s[a+e].image))}return Object(r.jsxs)("div",{className:"leftUpperBox d-flex flex-wrap p-2",onClick:function(){e.handleClickEvent()},children:[Object(r.jsxs)("div",{className:"tutorialBoxText w-100",children:[Object(r.jsx)("p",{className:"tutorialBoxTextField text-center",children:j}),Object(r.jsx)("p",{className:"text-center",children:O})]}),Object(r.jsxs)("div",{className:"tutorialBoxTextNav d-flex w-100 justify-content-end align-items-end",children:[Object(r.jsx)("button",{className:"introBtnPrevious btn btn-dark btn-sm mr-2 p-2",onClick:function(){return v(-1)},children:"\xab"}),Object(r.jsx)("button",{className:"introBtnNext btn btn-dark btn-sm mr-3 p-2",onClick:function(){return v(1)},children:"\xbb"})]})]})},O=function(e){return Object(r.jsx)("div",{children:e.purchase.show&&Object(r.jsxs)("div",{onClick:function(){e.onClick(e.purchase)},className:"d-flex flex-wrap p-3 mx-3 my-2 purchase-box",children:[Object(r.jsx)(m.a,{place:"bottom",delayUpdate:1e3}),Object(r.jsxs)("div",{className:"d-flex flex-wrap w-100 justify-content-center mb-1",children:[Object(r.jsx)("span",{"data-delay-show":"100","data-tip":e.purchase.tooltip,children:e.purchase.icon1}),Object(r.jsx)("span",{children:e.purchase.icon2}),Object(r.jsx)("span",{className:"w-100 text-center p-1",children:e.purchase.title})]}),Object(r.jsx)("span",{className:"w-100 text-center","data-delay-show":"100","data-tip":e.purchase.tooltip,children:e.purchase.text}),Object(r.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Villagers",children:[Object(r.jsx)(g.s,{size:"1.2em"})," ",e.purchase.workersNeeded]}),Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Gold",children:[Object(r.jsx)(g.z,{size:"1.2em",color:"yellow"})," ",e.purchase.priceInGold]})]}),Object(r.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Lumber",children:[Object(r.jsx)(g.D,{size:"1.5em",color:"rgb(236 171 51)"})," ",e.purchase.priceInWood]}),e.purchase.priceInStone?Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Stone",children:[Object(r.jsx)(g.v,{size:"1.5em",color:"grey"})," ",e.purchase.priceInStone]}):null,e.purchase.priceInIron?Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Iron",children:[Object(r.jsx)(g.o,{size:"1.2em"})," ",e.purchase.priceInIron]}):null]})]})})},f=function(e){var t=Object(n.useState)(!0),s=Object(l.a)(t,2),i=s[0],c=s[1],a=Object(n.useState)(!0),o=Object(l.a)(a,2),d=o[0],b=o[1],u=Object(n.useState)(""),j=Object(l.a)(u,2),m=j[0],g=j[1],x=Object(n.useState)(!0),p=Object(l.a)(x,2),h=p[0],f=p[1],v=Object(n.useState)(-1),y=Object(l.a)(v,2),w=y[0],N=y[1],k=function(t){var s;N(t.id),3===t.id&&(c(!0),e.onCheckIfHasBuildings(t.id)||(g("Firstly build Armor and Swords Forges"),b(!1))),4===t.id&&(e.onCheckIfHasBuildings(t.id)||(g("Firstly build Armor and Arrows Forges"),c(!1)),b(!0)),s=t.id,e.checkForResources(s,1)?(e.onBuild(t),f(!0)):f(!1)};Object(n.useEffect)((function(){g(""),f(!0),c(!0),b(!0)}),[e.selectedBuildingArea,e.purchases]);return Object(r.jsxs)("div",{className:"leftUpperBox d-flex flex-wrap p-2",children:[(!i||!h||!d)&&Object(r.jsx)("div",{className:"w-100"}),Object(r.jsx)("div",{className:"tutorialBoxText w-100",children:e.purchases.map((function(e){return Object(r.jsxs)("div",{children:[(t=e.id,Object(r.jsxs)("div",{children:[!i&&w===t&&Object(r.jsx)("div",{className:"errorMessage mx-3 my-1",children:m}),!d&&w===t&&Object(r.jsx)("div",{className:"errorMessage mx-3 my-1",children:m}),!h&&w===t&&Object(r.jsx)("div",{className:"errorMessage mx-3",children:"Not enough resources"})]})),Object(r.jsx)(O,{onClick:k,purchase:e})]},e.id);var t}))}),Object(r.jsx)("div",{className:"tutorialBoxTextNav d-flex w-100 justify-content-end align-items-end",children:Object(r.jsx)("button",{className:"introBtnPrevious btn btn-dark btn-sm mr-3",onClick:function(){e.onClose()},children:"Close"})})]})},v=function(e){var t="1.2em";if("wonEnemyAttack"===e.type.type||"lostEnemyAttack"===e.type.type)var s=Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"mt-4 text-center game-info-card__battle-losses",children:"Losses after the battle:"}),Object(r.jsxs)("div",{className:"d-flex flex-nowrap justify-content-around mx-5",children:[" ","lostEnemyAttack"===e.type.type&&Object(r.jsxs)("div",{children:[Object(r.jsx)(g.z,{size:"1.8em",color:"red",className:"mr-2"}),e.lostBattleGold]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(g.w,{size:"1.8em",color:"red",className:"mr-2"}),e.lostBattleKnights]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(g.c,{size:"1.8em",color:"red",className:"mr-2"}),e.lostBattleArchers]})]})]});if(3===e.type.id)var n=Object(r.jsxs)("div",{className:"game-info-card__production text-center pt-4 w-100",children:[Object(r.jsx)("p",{className:"game-info-card__production-title",children:"Production per day"}),Object(r.jsxs)("div",{className:"d-flex flex-nowrap justify-content-around px-3 pt-2",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(g.z,{size:t,color:"yellow"}),Object(r.jsx)("span",{className:"pl-1",children:e.productionPerDay[0].goldPerDay})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(g.D,{size:t,color:"rgb(236 171 51)"}),Object(r.jsx)("span",{className:"pl-1",children:e.productionPerDay[0].lumberPerDay})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(g.v,{size:t,color:"grey"}),Object(r.jsx)("span",{className:"pl-1",children:e.productionPerDay[0].stonePerDay})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(g.o,{size:t,color:"white"}),Object(r.jsx)("span",{className:"pl-1",children:e.productionPerDay[0].ironPerDay})]})]})]});if("wonEnemyAttack"===e.type.type)var i=Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"text-center w-100 icon-float icon-float__won-battle",children:Object(r.jsx)(g.j,{size:"3.2em"})}),Object(r.jsxs)("div",{className:"text-center mb-2",children:[Object(r.jsx)(g.z,{size:"1.6em",color:"yellow",className:"mr-2"}),e.wonBattleGold.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")]})]});if("lostEnemyAttack"===e.type.type)var c=Object(r.jsx)("div",{className:"text-center w-100 icon-float icon-float__lost-battle",children:Object(r.jsx)(g.e,{size:"2.8em"})});if(e.icon)var a=Object(r.jsx)("div",{className:"text-center w-100 icon-float ".concat("gameWon"===e.type.type?"icon-float__won-game":"icon-float__lost-game"),children:e.icon});return Object(r.jsxs)("div",{className:"w-100 game-info-card",children:[Object(r.jsx)("h1",{className:"game-info-card-header w-100",children:e.type.header}),Object(r.jsxs)("div",{className:"",children:[" ",e.type.text&&Object(r.jsx)("h4",{className:"text-center pt-1 px-3",children:e.type.text}),e.type.secondText&&Object(r.jsx)("div",{className:"px-5 pt-3",children:e.type.secondText}),Object(r.jsx)("div",{className:"px-5",children:e.type.thirdText}),a,n,i,c,s]})]})},y=function(e){return Object(r.jsx)("div",{className:"backdrop",onClick:function(){5!==e.selectedInfoTypeId&&6!==e.selectedInfoTypeId&&7!==e.selectedInfoTypeId&&8!==e.selectedInfoTypeId&&e.onCloseModal()}})},w=function(e){var t=function(e){return e.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},s=t(10*e.knights+30*e.archers+e.villagers),c=t(1e6-e.gold),a=t(1e4-e.knights-e.archers),o=t(e.strengthOfEnemy),d=Object(n.useState)([{id:1,type:"enemiesNearby",header:"Enemies Nearby",text:"".concat(undefined," days till siege!"),secondText:"Enemy's Attack Strength: ".concat(o),thirdText:"Your Defense Strength: ".concat(s),icon:""},{id:2,type:"gameStatus",header:"To Win The Game",text:"",secondText:Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("div",{className:"d-flex flex-wrap w-100 justify-content-center",children:[Object(r.jsxs)("h4",{children:["Collect ",Object(r.jsx)("b",{children:"1 million "})," gold!"," "]}),Object(r.jsxs)("span",{className:"w-100 text-center",children:["Till victory:",Object(r.jsx)(g.z,{size:"0.8em",color:"rgb(242, 232, 36)"}),Object(r.jsx)(g.z,{size:"1.5em",color:"rgb(255, 243, 0)"}),Object(r.jsx)(g.z,{size:"1.0em",color:"rgb(235, 200, 45)"})," ",c," "]})]})}),thirdText:Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("div",{className:"w-100 d-flex flex-wrap justify-content-center mt-2",children:[Object(r.jsx)("h4",{children:"... or Train 10,000 Warriors!"}),Object(r.jsxs)("span",{className:"w-100 text-center pt-2",children:["Till victory: ",Object(r.jsx)(g.w,{size:"1.5em"})," ",Object(r.jsx)(g.c,{})," ",a]})]})}),icon:""},{id:3,type:"playersStats",header:"Game statistics",text:"",secondText:"Battles Won: ".concat(e.battlesWon),thirdText:"Defense Strength: ".concat(s),icon:""},{id:4,type:"settings",header:"Settings",text:"At the moment no game settings can be changed",secondText:"",icon:""},{id:5,type:"gameWon",header:"Congratulations! You Won The Game!!!",text:"You proved that You have strong strategy skills!",secondText:"I hope that You did enjoy the game and I welcome You to play it again :)",icon:Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(g.A,{size:"2.2em",className:"mb-0"}),Object(r.jsx)(g.s,{size:"3.4em"}),Object(r.jsx)(g.m,{size:"2.2em",className:"mb-1"})]})},{id:6,type:"gameLost",header:"Oh no... You lost",text:"Enemy conquered Your village and killed all Your warriors and villagers...",secondText:"",icon:Object(r.jsx)(g.f,{size:"4.2em"})},{id:7,type:"wonEnemyAttack",header:"Enemy attacked Your village!",text:"You defended Your village. Great job! You received some gold:",secondText:"",icon:""},{id:8,type:"lostEnemyAttack",header:"Enemy attacked Your village!",text:"Enemy was very strong and delt you great damage. ",secondText:"Next time be more prepared for the battles.",icon:""}]),b=Object(l.a)(d,2),u=b[0],m=b[1];Object(n.useEffect)((function(){m(u.map((function(t){return 1===t.id?Object(j.a)(Object(j.a)({},t),{},{text:"".concat(e.daysTillAttack," days till siege!")}):2===t.id?Object(j.a)(Object(j.a)({},t),{},{secondText:Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("div",{className:"d-flex flex-wrap w-100 justify-content-center",children:[Object(r.jsxs)("h4",{children:["Collect ",Object(r.jsx)("b",{children:"1 million "})," gold!"," "]}),Object(r.jsxs)("span",{className:"w-100 text-center",children:["Till victory:",Object(r.jsx)(g.z,{size:"0.8em",color:"rgb(242, 232, 36)"}),Object(r.jsx)(g.z,{size:"1.5em",color:"rgb(255, 243, 0)"}),Object(r.jsx)(g.z,{size:"1.0em",color:"rgb(235, 200, 45)"})," ",c," "]})]})})}):t})))}),[e.gold,e.daysTillAttack,u,c]);var x=u.filter((function(t){return t.id===e.selectedInfoTypeId}));return Object(r.jsx)("div",{className:"modalBox",children:Object(r.jsx)("div",{className:"d-flex flex-wrap justify-content-start h-100",children:Object(r.jsxs)("div",{className:"d-flex align-items-start flex-column h-100 w-100",children:[x.map((function(t){return Object(r.jsx)(v,{type:t,productionPerDay:e.productionPerDay,wonBattleGold:e.wonBattleGold,lostBattleGold:e.lostBattleGold,lostBattleKnights:e.lostBattleKnights,lostBattleArchers:e.lostBattleArchers,icon:t.icon},t.id)})),1===e.gamePlay&&Object(r.jsxs)("div",{className:"mt-auto",children:[" ",Object(r.jsx)("button",{className:"btn btn-danger btn-sm m-4",onClick:function(){e.onCloseModal()},children:"Close"})]}),(7===e.selectedInfoTypeId||8===e.selectedInfoTypeId)&&Object(r.jsxs)("div",{className:"mt-auto text-center w-100 mb-3",children:[" ",Object(r.jsx)("button",{className:"btn btn-success btn-sm",onClick:e.proceedGame,children:"OK"})]}),(5===e.selectedInfoTypeId||6===e.selectedInfoTypeId)&&Object(r.jsxs)("div",{className:"mt-auto mx-auto mb-3 text-center",children:[" ",Object(r.jsx)("button",{className:"btn btn-success btn-sm m-3",onClick:e.onPlayAgain,children:"Play Again"}),Object(r.jsx)("button",{className:"btn btn-danger btn-sm m-3",onClick:e.onExitGame,children:"Exit"})]})]})})})},N=function(e){return Object(r.jsxs)(i.a.Fragment,{children:[a.a.createPortal(Object(r.jsx)(y,{selectedInfoTypeId:e.selectedInfoTypeId,onCloseModal:e.onCloseModal}),document.getElementById("backdrop-root")),a.a.createPortal(Object(r.jsx)(w,{selectedInfoTypeId:e.selectedInfoTypeId,onCloseModal:e.onCloseModal,battlesWon:e.battlesWon,knights:e.warriors[0].knights,archers:e.warriors[0].archers,villagers:e.warriors[0].villagers,gold:e.warriors[0].gold,productionPerDay:e.productionPerDay,onExitGame:e.onExitGame,onPlayAgain:e.onPlayAgain,gamePlay:e.gamePlay,daysTillAttack:e.daysTillAttack,strengthOfEnemy:e.strengthOfEnemy,proceedGame:e.proceedGame,wonBattleGold:e.wonBattleGold,lostBattleGold:e.lostBattleGold,lostBattleKnights:e.lostBattleKnights,lostBattleArchers:e.lostBattleArchers}),document.getElementById("modal-root"))]})},k=s(12),I=function(e){var t=e.biggerImageSize,s=e.smallerImageSize,n="black";return Object(r.jsx)("div",{children:function(e){switch(e){case 1:return Object(r.jsx)(g.l,{size:t,color:n});case 2:return Object(r.jsx)(g.A,{size:t,color:n});case 3:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.b,{size:t,color:n})," ",Object(r.jsx)(g.w,{size:s,color:n})]});case 4:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.n,{size:t,color:n})," ",Object(r.jsx)(g.c,{size:s,color:n})]});case 5:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.C,{size:t,color:"rgb(227, 0, 0)"})," ",Object(r.jsx)(g.B,{size:s})]});case 6:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.C,{size:t,color:"rgb(95, 102, 74)"})," ",Object(r.jsx)(g.p,{size:s})]});case 7:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.C,{size:t,color:"rgb(19, 84, 1)"})," ",Object(r.jsx)(g.o,{size:s})]});case 8:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.m,{size:t,color:n})," ",Object(r.jsx)(g.u,{size:s})]});case 9:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.h,{size:t,color:n})," ",Object(r.jsx)(g.r,{size:s})]});case 10:return Object(r.jsxs)("span",{children:[Object(r.jsx)(g.y,{size:t,color:n})," ",Object(r.jsx)(g.q,{size:s})]});default:return Object(r.jsx)("span",{})}}(e.buildingId)})},S=function(e){return Object(r.jsx)("div",{className:"building-square",children:Object(r.jsx)("div",{className:"building-square__inner ".concat(e.selected?"selected-field":""),onClick:function(){e.onSelectHandler(e.id)},children:Object(r.jsx)(I,{buildingId:e.building,biggerImageSize:"2.2em",smallerImageSize:"1.2em"})})})},z=function(e){var t=function(t){e.onSelectHandler(t)};return Object(r.jsx)("div",{className:"buildings-field",children:e.fields.map((function(e){return Object(r.jsx)(S,{id:e.id,value:e.value,building:e.building,selected:e.selected,onSelectHandler:t},e.id)}))})},B=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(z,{fields:e.buildingAreas,onSelectHandler:function(t){e.onClickEventHandler(t)}})})},C=function(e){var t=!0,s=Object(n.useState)(!1),i=Object(l.a)(s,2),c=i[0],a=i[1],o=Object(n.useState)(0),d=Object(l.a)(o,2),b=d[0],u=d[1],j=Object(n.useState)(1),x=Object(l.a)(j,2),p=x[0],h=x[1],O=Object(n.useState)(!1),f=Object(l.a)(O,2),v=f[0],y=f[1],w=Object(n.useState)(!0),N=Object(l.a)(w,2),k=N[0],S=N[1],z=Object(n.useState)(!1),B=Object(l.a)(z,2),C=B[0],T=B[1],L=Object(n.useState)(!0),A=Object(l.a)(L,2),G=A[0],P=A[1],Y=Object(r.jsx)(g.w,{size:"3.2em"}),E="Warrior strength: 10",M="Check if You have built Armor & Swords Forges";return 3!==e.selectedBuildingType&&4!==e.selectedBuildingType||(t=!1,4===e.selectedBuildingType&&(Y=Object(r.jsx)(g.c,{size:"3.2em"}),E="Warrior strength: 30",M="Check if You have built Armor & Arrows Forges")),Object(n.useEffect)((function(){u(0),P(!0),a(!1),3===e.selectedBuildingType?h(1):h(3),S(!0),T(!1),"factories"===e.building.group?y(!0):y(!1)}),[e.buildingArea,e.selectedBuildingType,e.building.group]),Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{place:"bottom",delayUpdate:1e3}),Object(r.jsxs)("div",{className:"leftUpperBox d-flex flex-wrap w-100 p-2 justify-content-center",children:[Object(r.jsxs)("div",{className:"d-flex flex-wrap align-items-start building-card",children:[Object(r.jsx)("span",{className:"building-title",children:e.buildingTitle}),!t&&Object(r.jsxs)("div",{className:"d-flex flex-wrap w-100 justify-content-center mb-auto",children:[Object(r.jsxs)("p",{className:"mb-3",children:["Cost:"," ",Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Iron",children:[Object(r.jsx)(g.o,{size:"1.4em",color:"white"})," ",p," "]}),Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Gold",children:[Object(r.jsx)(g.z,{size:"1.4em",className:"ml-3 mr-1",color:"yellow"}),100*p]})]}),Object(r.jsx)("span",{className:"d-flex flex-wrap w-100 justify-content-center","data-delay-show":"100","data-tip":E,children:Y}),Object(r.jsxs)("div",{className:"d-flex flex-nowrap w-100 justify-content-center my-2",children:[Object(r.jsxs)("div",{className:"d-flex flex-nowrap align-content-center text-right",children:[" ",Object(r.jsx)("button",{className:"btn btn-dark btn-xs m-1",onClick:function(){0!==b&&u((function(e){return e-1}))},children:"-"}),Object(r.jsx)("button",{className:"btn btn-dark btn-xs my-1",onClick:function(){e.assets[0].iron<(b+1)*p||e.assets[0].gold<(b+1)*p*100||e.assets[0].villagers<b+1||u((function(e){return e+1}))},children:"+"}),Object(r.jsx)("button",{className:"btn btn-dark btn-xs my-1 ml-1",onClick:function(){if(!(e.assets[0].iron<(b+1)*p||e.assets[0].gold<(b+1)*p*100||e.assets[0].villagers<b+1)){var t=[Math.floor(e.assets[0].iron/p),Math.floor(e.assets[0].gold/(100*p)),e.assets[0].villagers],s=Math.min.apply(Math,t.map((function(e){return e})));u(s)}},children:"max"})]}),Object(r.jsx)("div",{className:"d-flex flex-wrap align-content-center justify-content-center train-warriors-number ml-2",children:b})]}),Object(r.jsxs)("div",{className:"d-flex flex-wrap justify-content-center",children:[Object(r.jsx)("span",{className:"w-100 text-center",children:"Total Cost: "}),Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Iron",children:[Object(r.jsx)(g.o,{size:"1.4em",color:"white",className:"mx-2"}),b*p," "]})," ",Object(r.jsxs)("span",{className:"ml-4","data-delay-show":"400","data-tip":"Gold",children:[Object(r.jsx)(g.z,{size:"1.4em",color:"yellow"})," ",b*p*100," "]})]}),Object(r.jsx)("button",{className:"btn btn-success btn-sm my-1 w-75",disabled:0===b,onClick:function(){e.checkIfHasBuilding(e.selectedBuildingType)?(P(!0),e.onTrainWarriors(b),u(0)):P(!1)},children:"Train"}),!G&&Object(r.jsx)("div",{className:"errorMessage px-2 text-center m-3",children:M})]}),t&&Object(r.jsxs)("div",{className:"d-flex mb-auto justify-content-center flex-wrap w-100",children:[Object(r.jsxs)("div",{className:"w-100 text-center mb-2",children:[Object(r.jsx)(I,{buildingId:e.selectedBuildingType,biggerImageSize:"3.2em",smallerImageSize:"2.2em"}),Object(r.jsx)("p",{className:"building-info-text",children:e.selectedBuildingText})]}),"factories"!==e.selectedBuildingGroup?Object(r.jsxs)("span",{className:"building-level-text w-100 text-center mx-5 mb-1",children:[" ",e.selectedBuildingLevel+1," Level"," "]}):null]})]}),t&&!v&&Object(r.jsxs)("div",{className:"d-flex mb-auto justify-content-center flex-wrap w-100",children:[!k&&Object(r.jsx)("div",{className:"errorMessage w-100 mx-2 mb-2",children:"Not enough resources"}),0===e.selectedBuildingLevel?Object(r.jsxs)("div",{className:"w-100 text-center upgrade-building-box mb-2",children:[Object(r.jsxs)("div",{className:"d-flex flex-wrap justify-content-around w-100 px-2",children:[Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Gold",children:[Object(r.jsx)(g.z,{size:"1.2em",color:"yellow"})," \xa0",2*e.building.priceInGold]}),Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Lumber",children:[Object(r.jsx)(g.D,{size:"1.5em",color:"rgb(236 171 51)"})," \xa0",2*e.building.priceInWood]}),e.building.priceInStone?Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Stone",children:[Object(r.jsx)(g.v,{size:"1.5em",color:"grey"})," \xa0",2*e.building.priceInStone]}):null,e.building.priceInIron?Object(r.jsxs)("span",{"data-delay-show":"400","data-tip":"Iron",children:[Object(r.jsx)(g.o,{size:"1.2em"})," \xa0"," ",2*e.building.priceInIron]}):null]}),Object(r.jsx)("button",{className:"btn btn-success btn-sm m-2 py-0 px-3",onClick:function(){var t;T(!1),t=e.selectedBuildingType,e.checkForResourcesToUpgrade(t,2)?(a(!0),e.onUpgrade(e.selectedBuildingType),S(!0)):S(!1)},"data-delay-show":"400","data-tip":"Double the production",disabled:e.selectedBuildingLevel>0||c,children:"Upgrade"})]}):null,C&&Object(r.jsxs)("div",{className:"errorMessage m-3",children:[" ","Cannot destroy the house since workers and warriors need a place to live"]})]}),Object(r.jsxs)("div",{className:"d-flex justify-content-center mt-auto flex-wrap",children:[Object(r.jsx)("button",{className:"btn btn-warning btn-sm m-1",onClick:function(){if((1===e.selectedBuildingType||2===e.selectedBuildingType)&&!e.checkIfCanDestroyHouse(e.selectedBuildingType,e.selectedBuildingLevel))return T(!0),void S(!0);T(!1),e.onDestroyBuilding(e.selectedBuildingType,e.selectedBuildingLevel)},"data-delay-show":"100","data-tip":"You will receive the half of the cost of 1st level building",children:"Destroy Building"}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1",onClick:function(){e.onCloseModal()},children:"Close"})]})]})]})},T=function(e){return Object(r.jsx)("div",{className:"backdrop",onClick:e.onCloseModal})},L=function(e){return Object(r.jsx)("div",{className:"modalBox",children:Object(r.jsx)("div",{className:"d-flex flex-wrap justify-content-start h-100",children:Object(r.jsxs)("div",{className:"d-flex align-items-start flex-column h-100 w-100 ",children:[Object(r.jsxs)("h3",{className:"text-center w-100 mt-5",children:["Hello ",e.playersName,"!"]}),Object(r.jsx)("p",{className:"text-center w-100 mt-4",children:"Welcome to the strategy game!"}),Object(r.jsx)("p",{className:"text-center w-100 mt-4",children:"I hope You will enjoy the game and will have a great time!"}),Object(r.jsxs)("p",{className:"d-flex justify-content-around w-50 mt-4 align-items-end mx-auto",children:[Object(r.jsx)(g.l,{size:"2.2em",className:"mb-1"}),Object(r.jsx)(g.A,{size:"3.2em",className:"mb-0"}),Object(r.jsx)(g.b,{size:"3.2em",className:"mb-1"}),Object(r.jsx)(g.m,{size:"3.2em",className:"mb-1"})]}),Object(r.jsx)("div",{className:"mt-auto text-center w-100 mb-3",children:Object(r.jsx)("button",{className:"btn btn-success btn-sm px-5 mb-3",onClick:e.onCloseModal,children:"Start"})})]})})})},A=function(e){var t=200,s=4e3,c=Object(n.useState)(50),o=Object(l.a)(c,2),b=o[0],u=o[1],m=Object(n.useState)(50),p=Object(l.a)(m,2),O=p[0],v=p[1],y=Object(n.useState)(0),w=Object(l.a)(y,2),I=w[0],S=w[1],z=Object(n.useState)(!1),A=Object(l.a)(z,2),G=A[0],P=A[1],Y=Object(n.useState)(!1),E=Object(l.a)(Y,2),M=E[0],D=E[1],F=Object(n.useState)(!1),W=Object(l.a)(F,2),H=W[0],_=W[1],K=Object(n.useState)(!0),U=Object(l.a)(K,2),R=U[0],q=U[1],V=Object(n.useState)([{id:1,group:"villageBuildings",type:"House",title:"Hut",workersNeeded:1,priceInGold:50,priceInWood:10,priceInStone:0,priceInIron:0,icon1:Object(r.jsx)(g.l,{size:"3.2em"}),icon2:"",image:"",show:!1,tooltip:"The Hut lets 20 people live in Your village",level1text:"Provides ".concat(10," gold per day and 20 living places"),level2text:"Provides ".concat(20," gold per day and 40 living places")},{id:2,group:"villageBuildings",type:"Big House",title:"House",workersNeeded:10,priceInGold:2e3,priceInWood:400,priceInStone:200,priceInIron:100,image:"",icon1:Object(r.jsx)(g.A,{size:"3.2em"}),icon2:"",show:!1,tooltip:"The Big House lets 200 people live in Your village",level1text:"Provides ".concat(t," gold per day and 200 living places"),level2text:"Provides ".concat(400," gold per day and 400 living places")},{id:3,group:"warBuildings",type:"Knights Academy",title:"Knights Academy",workersNeeded:10,priceInGold:2e3,priceInWood:200,priceInStone:200,priceInIron:200,image:"",icon1:Object(r.jsx)(g.b,{size:"3.2em"}),icon2:Object(r.jsx)(g.w,{size:"2.2em"}),show:!1,tooltip:"You will be able to train your villagers to become knights",level1text:"Train knights. Knight has 10 defense strength.",level2text:""},{id:4,group:"warBuildings",type:"Archers Academy",title:"Archers Academy",workersNeeded:30,priceInGold:6e3,priceInWood:600,priceInStone:600,priceInIron:600,image:"",icon1:Object(r.jsx)(g.n,{size:"3.2em"}),icon2:Object(r.jsx)(g.c,{size:"2.2em"}),show:!1,tooltip:"You will be able to train your villagers to become archers",level1text:"Train archers. Archer has 30 defense strength.",level2text:""},{id:5,group:"resources",type:"Lumber Camp",title:"Lumber Camp",workersNeeded:2,priceInGold:100,priceInWood:20,priceInStone:0,priceInIron:0,image:"",icon1:Object(r.jsx)(g.C,{size:"3.2em",color:"rgb(227, 0, 0)"}),icon2:Object(r.jsx)(g.B,{size:"2.2em"}),show:!1,tooltip:"The Lumber Camp produces 5 wood every day",level1text:"Provides 5 lumber per day",level2text:"Provides 10 lumber per day"},{id:6,group:"resources",type:"Stone Camp",title:"Stone Camp",workersNeeded:4,priceInGold:200,priceInWood:240,priceInStone:0,priceInIron:0,image:"",icon1:Object(r.jsx)(g.C,{size:"3.2em",color:"rgb(178 181 171)"}),icon2:Object(r.jsx)(g.p,{size:"2.2em"}),show:!1,tooltip:"The Stone Camp produces 5 stones per day",level1text:"Provides 5 stones per day",level2text:"Provides 10 stones per day"},{id:7,group:"resources",type:"Metal Camp",title:"Metal Camp",workersNeeded:10,priceInGold:400,priceInWood:350,priceInStone:100,priceInIron:0,image:"",icon1:Object(r.jsx)(g.C,{size:"3.2em",color:"rgb(19, 139, 1)"}),icon2:Object(r.jsx)(g.o,{size:"2.2em"}),show:!1,tooltip:"The Metal Camp produces 5 Iron per day",level1text:"Provides 5 metal bars per day",level2text:"Provides 10 metal bars per day"},{id:8,group:"factories",type:"Armor forge",title:"Armor forge",workersNeeded:5,priceInGold:1e3,priceInWood:300,priceInStone:100,priceInIron:100,image:"",icon1:Object(r.jsx)(g.m,{size:"3.2em"}),icon2:Object(r.jsx)(g.u,{size:"2.2em"}),show:!1,tooltip:"The Armor forge is needed for Knights and Archers academies",level1text:"Needed for Knights and Archers Academies. Provides armor for warriors",level2text:""},{id:9,group:"factories",type:"Swords forge",title:"Swords forge",workersNeeded:5,priceInGold:1e3,priceInWood:300,priceInStone:100,priceInIron:100,image:"",icon1:Object(r.jsx)(g.h,{size:"3.2em"}),icon2:Object(r.jsx)(g.r,{size:"2.2em"}),show:!1,tooltip:"The Swords forge is needed for Knights academy",level1text:"Needed for Knights Academy. Provides swords for knights.",level2text:""},{id:10,group:"factories",type:"Arrows forge",title:"Arrows forge",workersNeeded:5,priceInGold:1e3,priceInWood:300,priceInStone:100,priceInIron:100,image:"",icon1:Object(r.jsx)(g.y,{size:"3.2em"}),icon2:Object(r.jsx)(g.q,{size:"2.2em"}),show:!1,tooltip:"The Arrows forge is needed for Archers academy",level1text:"Needed for Archers Academy. Provides arrows and bows for archers.",level2text:""}]),J=Object(l.a)(V,2),$=J[0],Q=J[1],X=Object(n.useState)(!1),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1],se=Object(n.useState)(!1),ne=Object(l.a)(se,2),ie=ne[0],ce=ne[1],ae=Object(n.useState)([{id:0,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:1,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:2,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:3,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:4,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:5,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:6,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:7,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:8,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:9,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:10,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:11,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:12,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:13,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:14,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:15,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:16,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:17,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:18,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:19,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:20,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:21,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:22,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:23,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:24,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:25,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:26,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:27,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:28,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:29,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:30,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:31,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:32,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:33,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:34,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:35,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:36,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:37,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:38,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:39,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:40,value:0,selected:!1,building:-1,buildingLevel:0,group:""},{id:41,value:0,selected:!1,building:-1,buildingLevel:0,group:""}]),le=Object(l.a)(ae,2),re=le[0],oe=le[1],de=Object(n.useState)(-1),be=Object(l.a)(de,2),ue=be[0],je=be[1],me=Object(n.useState)(-1),ge=Object(l.a)(me,2),xe=ge[0],pe=ge[1],he=Object(n.useState)(0),Oe=Object(l.a)(he,2),fe=Oe[0],ve=Oe[1],ye=Object(n.useState)(0),we=Object(l.a)(ye,2),Ne=we[0],ke=we[1],Ie=Object(n.useState)(),Se=Object(l.a)(Ie,2),ze=Se[0],Be=Se[1],Ce=Object(n.useState)(),Te=Object(l.a)(Ce,2),Le=Te[0],Ae=Te[1],Ge=Object(n.useState)(),Pe=Object(l.a)(Ge,2),Ye=Pe[0],Ee=Pe[1],Me=Object(n.useState)([{villagers:10,knights:0,archers:0,lumber:100,stone:0,iron:0,gold:1e3}]),De=Object(l.a)(Me,2),Fe=De[0],We=De[1],He=function(e){var t=!1,s=function(e){switch(e){case 3:return[8,9];case 4:return[8,10];default:return[8,9]}}(e),n=!0;return s.forEach((function(e){n&&(re.findIndex((function(t){return t.building===e}))>=0?t=!0:(n=!1,t=!1))})),t},_e=function(){D(!1)},Ke=function(e){Q($.map((function(t){return t.group===e?Object(j.a)(Object(j.a)({},t),{},{show:!0}):Object(j.a)(Object(j.a)({},t),{},{show:!1})}))),D(!0)},Ue=function(){!function(){var e=re.findIndex((function(e){return!0===e.selected}));e>=0&&(re[e].selected=!1)}(),te(!1),_e(),ce(!1),ke(-1)},Re=function(e){var t;e>=0&&(t=re[e].building),t>=0&&0===re[e].buildingLevel?Ee($[t-1].level1text):t>=0&&1===re[e].buildingLevel&&Ee($[t-1].level2text)},qe=function(e){1===ut&&(re[e].building>=0?(ce(!0),_(!0),_e(),pe(re[e].building),ve(re[e].buildingLevel),Be(re[e].group)):(ce(!1),_(!1),pe(-1),ve(0),Be()),ke(e),te(!0),oe(re.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{selected:!0}):Object(j.a)(Object(j.a)({},t),{},{selected:!1})}))),function(e){var t;e>=0&&(t=re[e].building),t>=0&&Ae($[t-1].title)}(e),Re(e))},Ve=function(e){3===e&&ot(),je(e),P(!0)},Je=function(e,t){var s=$[e-1].priceInGold*t,n=$[e-1].priceInWood*t,i=$[e-1].priceInIron*t,c=$[e-1].priceInStone*t,a=$[e-1].workersNeeded*t;return!(s>Fe[0].gold||n>Fe[0].lumber||i>Fe[0].iron||c>Fe[0].stone||a>Fe[0].villagers)},$e=Object(n.useState)(0),Qe=Object(l.a)($e,2),Xe=Qe[0],Ze=Qe[1],et=Object(n.useState)(s),tt=Object(l.a)(et,2),st=tt[0],nt=tt[1],it=function(e,t){var s=re.filter((function(t){return t.building===e&&0===t.buildingLevel})),n=re.filter((function(t){return t.building===e&&1===t.buildingLevel}));return s.length*t+n.length*t*2},ct=Object(n.useState)([{lumberPerDay:0,goldPerDay:0,ironPerDay:0,stonePerDay:0}]),at=Object(l.a)(ct,2),lt=at[0],rt=at[1],ot=function(){rt(lt.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{lumberPerDay:it(5,5),goldPerDay:it(1,10)+it(2,t),ironPerDay:it(7,5),stonePerDay:it(6,5)})})))},dt=Object(n.useState)(1),bt=Object(l.a)(dt,2),ut=bt[0],jt=bt[1],mt=function(){return 10*Fe[0].knights+30*Fe[0].archers+Fe[0].villagers},gt=Object(n.useState)(0),xt=Object(l.a)(gt,2),pt=xt[0],ht=xt[1],Ot=Object(n.useState)(0),ft=Object(l.a)(Ot,2),vt=ft[0],yt=ft[1],wt=Object(n.useState)(0),Nt=Object(l.a)(wt,2),kt=Nt[0],It=Nt[1],St=Object(n.useState)(0),zt=Object(l.a)(St,2),Bt=zt[0],Ct=zt[1],Tt=function(e){if("lost"===e){var t,s=b/mt().toFixed(0);t=s>1.5?.9:s<=1.5&&s>1.25?.5:.25;var n=Fe[0].gold>=100?parseInt((Fe[0].gold*t).toFixed(0),10):0;We(Fe.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{gold:e.gold-n,knights:0,archers:0})}))),It(Fe[0].knights),Ct(Fe[0].archers),Ve(8),yt(n)}else{var i,c,a,l,r=mt()-b,o=(mt()/b).toFixed(2);o>=2?(i=0,c=0):o>=1.5&&o<2?(i=.25,c=.12):(i=.5,c=.25),a=(Fe[0].knights*i).toFixed(0),l=(Fe[0].archers*c).toFixed(0),We(Fe.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{gold:e.gold+r,knights:e.knights-a,archers:e.archers-l})}))),ht(r),It(a),Ct(l),Ve(7)}},Lt=function(){O<=2&&(jt(0),function(){if(b>2*mt())return Ve(6),void jt(0);b>mt()?Tt("lost"):(S((function(e){return e+1})),Tt("won"))}())},At=function(){!function(){var e=it(1,10),s=it(2,t),n=it(5,5),i=it(6,5),c=it(7,5);We(Fe.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{gold:t.gold+e+s,lumber:t.lumber+n,stone:t.stone+i,iron:t.iron+c})}))),Ze((function(e){return e+1})),v((function(e){return e-1}))}(),Lt(),(Fe[0].gold>=1e6||Fe[0].knights+Fe[0].archers>=1e4)&&(Ve(5),jt(0))},Gt=function(){if(Xe<=1)u(50);else{var e=Xe*(Xe/4).toFixed(0)+parseInt((100*Math.random()).toFixed(0),10);u(e)}},Pt=function(){if(Xe<=1)v(50);else{var e=parseInt((100*Math.random()).toFixed(0),10)+10;v(e)}};Object(n.useEffect)((function(){if(!(Xe<=0)&&1===ut){var e=setInterval(At,st);return function(){return clearInterval(e)}}}),[Xe,Fe,ut,st]);var Yt=function(){q(!1),jt(1),Ze(1),Gt(),Pt()};return Object(r.jsxs)("div",{className:"containerModal gameModal",children:[R&&Object(r.jsxs)(i.a.Fragment,{children:[a.a.createPortal(Object(r.jsx)(T,{onCloseModal:Yt}),document.getElementById("backdrop-root")),a.a.createPortal(Object(r.jsx)(L,{onCloseModal:Yt,playersName:e.playersName}),document.getElementById("modal-root"))," "]}),G&&Object(r.jsx)("div",{className:"gameInfoModal",children:Object(r.jsx)(N,{selectedInfoTypeId:ue,battlesWon:I,warriors:Fe,onCloseModal:function(){P(!1)},productionPerDay:lt,gamePlay:ut,onPlayAgain:function(){return window.location.reload()},onExitGame:e.onExitGame,daysTillAttack:O,strengthOfEnemy:b,proceedGame:function(){P(!1),jt(1),Gt(),Pt()},wonBattleGold:pt,lostBattleGold:vt,lostBattleKnights:kt,lostBattleArchers:Bt})}),Object(r.jsx)(x,{assets:Fe,days:Xe,onSetDefaultTimeSpeed:function(){nt(s)},onSetDoubleTimeSpeed:function(){nt(2e3)}}),Object(r.jsxs)("div",{className:"gameContainer",children:[Object(r.jsxs)("div",{className:"leftGameSide",children:[H&&Object(r.jsx)(C,{handleClickEvent:Ue,selectedBuildingType:xe,selectedBuildingLevel:fe,selectedBuildingGroup:ze,selectedBuildingText:Ye,buildingArea:Ne,onUpgrade:function(e){if(1===ut){var t=re.findIndex((function(e){return!0===e.selected}));if(t>=0){var s=0;1===e?s=20:2===e&&(s=200),We(Fe.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{iron:t.iron-2*$[e-1].priceInIron,gold:t.gold-2*$[e-1].priceInGold,lumber:t.lumber-2*$[e-1].priceInWood,stone:t.stone-2*$[e-1].priceInStone,villagers:t.villagers+s})}))),re[t].buildingLevel=1,ve(1),Re(t)}}},onCloseModal:function(){_(!1),Ue()},onDestroyBuilding:function(e){if(1===ut){var t=re.findIndex((function(e){return!0===e.selected})),s=0;1===e?s=20*(re[t].buildingLevel+1):2===e&&(s=200*(re[t].buildingLevel+1)),t>=0&&(We(Fe.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{iron:t.iron+$[e-1].priceInIron/2,gold:t.gold+$[e-1].priceInGold/2,lumber:t.lumber+$[e-1].priceInWood/2,stone:t.stone+$[e-1].priceInStone/2,villagers:t.villagers+($[e-1].workersNeeded-s)})}))),re[t].buildingLevel=0,re[t].building=-1,re[t].group="",ce(!1),_(!1),pe(-1),ve(0),Be())}},onTrainWarriors:function(e){1===ut&&We(3===xe?Fe.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{knights:t.knights+e,iron:t.iron-e,gold:t.gold-100*e,villagers:t.villagers-e})})):Fe.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{archers:t.archers+e,iron:t.iron-3*e,gold:t.gold-300*e,villagers:t.villagers-e})})))},assets:Fe,checkIfHasBuilding:He,checkForResources:Je,checkForResourcesToUpgrade:function(e,t){var s=$[e-1].priceInGold*t,n=$[e-1].priceInWood*t,i=$[e-1].priceInIron*t,c=$[e-1].priceInStone*t;return!(s>Fe[0].gold||n>Fe[0].lumber||i>Fe[0].iron||c>Fe[0].stone)},checkIfCanDestroyHouse:function(e,t){var s,n=0,i=0,c=0;return 1===e?(s=20*(t+1),c=1):(s=200*(t+1),c=10),re.map((function(e){return 1===e.building&&(n+=20*(e.buildingLevel+1)),2===e.building&&(i+=200*(e.buildingLevel+1)),1})),!(n+i-s+c<Fe[0].knights+Fe[0].archers||Fe[0].villagers-s<0)},buildingTitle:Le,building:$[xe-1]}),!M&&!H&&Object(r.jsx)(h,{handleClickEvent:Ue}),M&&Object(r.jsx)(f,{purchases:$,onClose:_e,onBuild:function(e){if(1===ut){var t=re.findIndex((function(e){return!0===e.selected}));if(t>=0){var s=0;if(1===e.id?s=20:2===e.id&&(s=200),(3===e.id||4===e.id)&&!He(e.id))return;We(Fe.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{iron:t.iron-$[e.id-1].priceInIron,gold:t.gold-$[e.id-1].priceInGold,lumber:t.lumber-$[e.id-1].priceInWood,stone:t.stone-$[e.id-1].priceInStone,villagers:t.villagers-$[e.id-1].workersNeeded+s})}))),re[t].building=e.id,re[t].group=e.group,qe(t)}}},onCheckIfHasBuildings:He,selectedBuildingArea:Ne,checkForResources:Je}),Object(r.jsxs)("div",{className:"btnsCluster",children:[Object(r.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1",disabled:!ee||ie,onClick:function(){return Ke("resources")},children:Object(r.jsx)(g.a,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1",disabled:!ee||ie,onClick:function(){return Ke("villageBuildings")},children:Object(r.jsx)(g.k,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1",disabled:!ee||ie,onClick:function(){return Ke("warBuildings")},children:Object(r.jsx)(g.x,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1",disabled:!ee||ie,onClick:function(){return Ke("factories")},children:Object(r.jsx)(g.i,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1","data-delay-show":"400","data-tip":"Any enemies nearby?",onClick:function(){return Ve(1)},children:Object(r.jsx)(g.g,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1","data-delay-show":"400","data-tip":"Your game status",onClick:function(){return Ve(2)},children:Object(r.jsx)(d.b,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1","data-delay-show":"400","data-tip":"Settings",onClick:function(){return Ve(4)},children:Object(r.jsx)(d.c,{size:"1.5em"})}),Object(r.jsx)("button",{className:"btn btn-dark btn-sm m-1","data-delay-show":"400","data-tip":"Your Stats",onClick:function(){return Ve(3)},children:Object(r.jsx)(k.a,{size:"1.5em"})})]}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("button",{className:"btn btn-danger btn-sm m-1 mt-5",onClick:e.onShowExitModal,children:"Exit"})})]})]}),Object(r.jsx)("div",{className:"rightGameSide",children:Object(r.jsx)(B,{buildingAreas:re,onClickEventHandler:qe})}),Object(r.jsx)("div",{className:"w-100",children:Object(r.jsx)("p",{className:"text-center",children:"Strategy Game created by Gvidas Pilelis \xa92021"})})]})]})},G=function(e){var t=e.onGetAnswer,s=function(e){t(e)};return Object(r.jsx)("div",{className:"askUserBox",children:Object(r.jsxs)("div",{className:"d-flex flex-wrap justify-content-center",children:[Object(r.jsx)("label",{className:"p-4",children:"Do you really want to exit the game? (All your achievements will be lost)"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"button",className:"m-4 btn btn-primary btn-sm ",onClick:function(){return s(!0)},children:"Yes"}),Object(r.jsx)("button",{type:"button",className:"m-4 btn btn-dark btn-sm ",onClick:function(){return s(!1)},children:"No"})]})})};var P=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),s=t[0],i=t[1],c=Object(n.useState)(!1),a=Object(l.a)(c,2),d=a[0],b=a[1],j=Object(n.useState)(!0),m=Object(l.a)(j,2),g=m[0],x=m[1],p=Object(n.useState)("Nice Player"),h=Object(l.a)(p,2),O=h[0],f=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),w=y[0],N=y[1];return Object(r.jsxs)("div",{className:"h-100",children:[g&&Object(r.jsx)("div",{className:"askUserSomeInfoModal",children:Object(r.jsx)(o,{onGetName:function(e){!function(e){var t="";t=e.playersName&&0!==e.playersName.trim().length?e.playersName:"Nice Player",f(t)}(e),x(!1)}})}),w&&Object(r.jsx)("div",{className:"askUserSomeInfoModal",children:Object(r.jsx)(G,{onGetAnswer:function(e){N(!1),e&&(i(!s),b(!d))}})}),Object(r.jsxs)("div",{className:"mainPage",children:[s&&Object(r.jsx)(u,{playersName:O,onGotIt:function(){i(!s),b(!d)}}),d&&Object(r.jsx)(A,{onShowExitModal:function(){N(!0)},onExitGame:function(){i(!s),b(!d)},playersName:O}),Object(r.jsx)("div",{className:"containerModal lostGameModal d-none",children:Object(r.jsx)("button",{className:"btn btn-dark btn-sm",children:"Start"})})]})]})};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(P,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d12051e7.chunk.js.map